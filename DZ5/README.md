# улучшенная производительность
Running 10s test @ http://localhost:8000/users/admin
1 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency      25.12ms    9.45ms   88.76ms   88.23%
Req/Sec     398.40     59.80    480.00     85.42%
3972 requests in 10.06s, 686.32KB read
Requests/sec: 394.83
Transfer/sec: 68.22KB

Running 10s test @ http://localhost:8000/users/admin
5 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency      25.98ms   10.05ms   95.42ms   90.12%
Req/Sec      78.85     13.21     220.00     86.34%
3938 requests in 10.08s, 680.62KB read
Requests/sec: 390.67
Transfer/sec: 67.52KB

Running 10s test @ http://localhost:8000/users/admin
10 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency      24.89ms    9.67ms   94.28ms   89.37%
Req/Sec      40.15      6.82      55.00     70.15%
4013 requests in 10.02s, 693.45KB read
Requests/sec: 400.50
Transfer/sec: 69.21KB

# обычная производительность
Running 10s test @ http://localhost:8000/users/admin
1 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency      98.76ms   82.14ms  752.34ms   91.45%
Req/Sec     126.45     42.80    180.00     72.34%
1203 requests in 10.04s, 207.92KB read
Requests/sec: 119.82
Transfer/sec: 20.71KB

Running 10s test @ http://localhost:8000/users/admin
5 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency     102.34ms   57.62ms  398.76ms   89.23%
Req/Sec      21.45      8.45      35.00     70.88%
1042 requests in 10.08s, 180.06KB read
Requests/sec: 103.37
Transfer/sec: 17.86KB

Running 10s test @ http://localhost:8000/users/admin
10 threads and 10 connections
Thread Stats   Avg      Stdev     Max   +/- Stdev
Latency     107.22ms   60.15ms  498.34ms   86.77%
Req/Sec      11.05      4.89      18.00     60.12%
982 requests in 10.05s, 169.69KB read
Requests/sec: 97.71
Transfer/sec: 16.89KB

# Сравнительный отчёт нагрузочного тестирования API

## Конфигурация теста
- **Эндпоинт**: `GET http://localhost:8000/users/admin`
- **Аутентификация**: Lua-скрипт
- **Параметры теста**:
  - Длительность: 10 секунд
  - Соединения: 10
  - Потоки: 1, 5, 10

---

## Результаты тестирования

### Улучшенная производительность (оптимизированная система)

#### 1 поток, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 25.12ms ± 9.45ms      |
| Максимальная задержка | 88.76ms               |
| Запросов в секунду    | 398.40 ± 59.80        |
| Всего запросов        | 3972                  |
| RPS                   | 394.83                |
| Пропускная способность | 68.22KB/sec          |

**Стабильность**: 88.23% запросов в пределах ±Stdev

#### 5 потоков, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 25.98ms ± 10.05ms     |
| Максимальная задержка | 95.42ms               |
| Запросов в секунду    | 78.85 ± 13.21         |
| Всего запросов        | 3938                  |
| RPS                   | 390.67                |
| Пропускная способность | 67.52KB/sec          |

**Стабильность**: 90.12% запросов в пределах ±Stdev

#### 10 потоков, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 24.89ms ± 9.67ms      |
| Максимальная задержка | 94.28ms               |
| Запросов в секунду    | 40.15 ± 6.82          |
| Всего запросов        | 4013                  |
| RPS                   | 400.50                |
| Пропускная способность | 69.21KB/sec          |

**Стабильность**: 89.37% запросов в пределах ±Stdev

---

### Обычная производительность (базовая система)

#### 1 поток, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 98.76ms ± 82.14ms     |
| Максимальная задержка | 752.34ms              |
| Запросов в секунду    | 126.45 ± 42.80        |
| Всего запросов        | 1203                  |
| RPS                   | 119.82                |
| Пропускная способность | 20.71KB/sec          |

**Стабильность**: 91.45% запросов в пределах ±Stdev

#### 5 потоков, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 102.34ms ± 57.62ms    |
| Максимальная задержка | 398.76ms              |
| Запросов в секунду    | 21.45 ± 8.45          |
| Всего запросов        | 1042                  |
| RPS                   | 103.37                |
| Пропускная способность | 17.86KB/sec          |

**Стабильность**: 89.23% запросов в пределах ±Stdev

#### 10 потоков, 10 соединений
| Метрика               | Значение               |
|-----------------------|------------------------|
| Средняя задержка      | 107.22ms ± 60.15ms    |
| Максимальная задержка | 498.34ms              |
| Запросов в секунду    | 11.05 ± 4.89          |
| Всего запросов        | 982                   |
| RPS                   | 97.71                 |
| Пропускная способность | 16.89KB/sec          |

**Стабильность**: 86.77% запросов в пределах ±Stdev

---

## Выводы

### Сравнительный анализ
| Параметр              | Улучшенная версия | Базовая версия | Разница |
|-----------------------|------------------|---------------|---------|
| Средний RPS (1 поток) | 394.83           | 119.82        | +229%   |
| Средняя задержка      | 25ms             | 98ms          | -75%    |
| Макс. пропускная способность | 69.21KB/sec | 20.71KB/sec | +234%   |

### Наблюдения:
1. **Эффективность оптимизации**:
   - В 3-4 раза выше RPS при одинаковой нагрузке
   - В 4 раза меньше задержка
